# Configuration des raccourcis clavier de Yazi
# ~/.config/yazi/keymap.toml

[manager]
# Navigation de base
prepend_keymap = [
	# Navigation vim
	{ on = ["k"], run = "arrow -1", desc = "Monter" },
	{ on = ["j"], run = "arrow 1", desc = "Descendre" },
	{ on = ["h"], run = "leave", desc = "Retour au dossier parent" },
	{ on = ["l"], run = "enter", desc = "Entrer dans le dossier" },
	
	# Navigation rapide
	{ on = ["K"], run = "arrow -5", desc = "Monter de 5" },
	{ on = ["J"], run = "arrow 5", desc = "Descendre de 5" },
	{ on = ["g", "g"], run = "arrow -99999999", desc = "Aller en haut" },
	{ on = ["G"], run = "arrow 99999999", desc = "Aller en bas" },
	
	# Navigation par pages
	{ on = ["<C-u>"], run = "arrow -50%", desc = "Page précédente" },
	{ on = ["<C-d>"], run = "arrow 50%", desc = "Page suivante" },
	{ on = ["<C-b>"], run = "arrow -100%", desc = "Page complète haut" },
	{ on = ["<C-f>"], run = "arrow 100%", desc = "Page complète bas" },
	
	# Sélection
	{ on = ["<Space>"], run = ["select --state=none", "arrow 1"], desc = "Toggle sélection" },
	{ on = ["v"], run = "visual_mode", desc = "Mode visuel" },
	{ on = ["V"], run = "visual_mode --unset", desc = "Quitter mode visuel" },
	{ on = ["<C-a>"], run = "select_all --state=true", desc = "Tout sélectionner" },
	{ on = ["<C-r>"], run = "select_all --state=none", desc = "Inverser sélection" },
	
	# Opérations sur fichiers
	{ on = ["o"], run = "open", desc = "Ouvrir" },
	{ on = ["O"], run = "open --interactive", desc = "Ouvrir avec..." },
	{ on = ["<Enter>"], run = "open", desc = "Ouvrir" },
	{ on = ["y"], run = "yank", desc = "Copier" },
	{ on = ["x"], run = "yank --cut", desc = "Couper" },
	{ on = ["p"], run = "paste", desc = "Coller" },
	{ on = ["P"], run = "paste --force", desc = "Coller (écraser)" },
	{ on = ["d"], run = "remove", desc = "Supprimer" },
	{ on = ["D"], run = "remove --permanently", desc = "Supprimer définitivement" },
	
	# Création
	{ on = ["a"], run = "create", desc = "Créer fichier/dossier" },
	{ on = ["r"], run = "rename", desc = "Renommer" },
	{ on = [";"], run = "shell", desc = "Exécuter commande shell" },
	{ on = [":"], run = "shell --block", desc = "Exécuter shell (bloquant)" },
	
	# Recherche
	{ on = ["/"], run = "find --smart", desc = "Rechercher" },
	{ on = ["?"], run = "find --previous --smart", desc = "Rechercher (précédent)" },
	{ on = ["n"], run = "find_arrow", desc = "Résultat suivant" },
	{ on = ["N"], run = "find_arrow --previous", desc = "Résultat précédent" },
	{ on = ["f"], run = "filter --smart", desc = "Filtrer" },
	
	# Tri
	{ on = ["s", "m"], run = "sort modified --reverse", desc = "Trier par date modif" },
	{ on = ["s", "c"], run = "sort created --reverse", desc = "Trier par date création" },
	{ on = ["s", "e"], run = "sort extension --reverse", desc = "Trier par extension" },
	{ on = ["s", "a"], run = "sort alphabetical --reverse", desc = "Trier alphabétique" },
	{ on = ["s", "n"], run = "sort natural --reverse", desc = "Trier naturel" },
	{ on = ["s", "s"], run = "sort size --reverse", desc = "Trier par taille" },
	
	# Tabs
	{ on = ["t"], run = "tab_create --current", desc = "Nouvel onglet" },
	{ on = ["1"], run = "tab_switch 0", desc = "Onglet 1" },
	{ on = ["2"], run = "tab_switch 1", desc = "Onglet 2" },
	{ on = ["3"], run = "tab_switch 2", desc = "Onglet 3" },
	{ on = ["4"], run = "tab_switch 3", desc = "Onglet 4" },
	{ on = ["5"], run = "tab_switch 4", desc = "Onglet 5" },
	{ on = ["6"], run = "tab_switch 5", desc = "Onglet 6" },
	{ on = ["7"], run = "tab_switch 6", desc = "Onglet 7" },
	{ on = ["8"], run = "tab_switch 7", desc = "Onglet 8" },
	{ on = ["9"], run = "tab_switch 8", desc = "Onglet 9" },
	{ on = ["["], run = "tab_switch -1 --relative", desc = "Onglet précédent" },
	{ on = ["]"], run = "tab_switch 1 --relative", desc = "Onglet suivant" },
	{ on = ["{"], run = "tab_swap -1", desc = "Déplacer onglet gauche" },
	{ on = ["}"], run = "tab_swap 1", desc = "Déplacer onglet droite" },
	
	# Tâches
	{ on = ["w"], run = "tasks_show", desc = "Afficher tâches" },
	
	# Goto - Navigation rapide vers dossiers
	{ on = ["g", "h"], run = "cd ~", desc = "Aller au home" },
	{ on = ["g", "c"], run = "cd ~/.config", desc = "Aller à .config" },
	{ on = ["g", "d"], run = "cd ~/Downloads", desc = "Aller à Downloads" },
	{ on = ["g", "D"], run = "cd ~/Documents", desc = "Aller à Documents" },
	{ on = ["g", "t"], run = "cd /tmp", desc = "Aller à /tmp" },
	{ on = ["g", "r"], run = "cd /", desc = "Aller à la racine" },
	{ on = ["g", "<Space>"], run = "cd --interactive", desc = "cd interactif" },
	
	# Affichage
	{ on = ["z", "h"], run = "hidden toggle", desc = "Toggle fichiers cachés" },
	{ on = ["z", "s"], run = "linemode size", desc = "Mode taille" },
	{ on = ["z", "p"], run = "linemode permissions", desc = "Mode permissions" },
	{ on = ["z", "m"], run = "linemode mtime", desc = "Mode date modif" },
	
	# Copier chemin
	{ on = ["c", "c"], run = "copy path", desc = "Copier chemin" },
	{ on = ["c", "d"], run = "copy dirname", desc = "Copier nom dossier" },
	{ on = ["c", "f"], run = "copy filename", desc = "Copier nom fichier" },
	{ on = ["c", "n"], run = "copy name_without_ext", desc = "Copier nom sans ext" },
	
	# Help et quit
	{ on = ["~"], run = "help", desc = "Aide" },
	{ on = ["q"], run = "quit", desc = "Quitter" },
	{ on = ["Q"], run = "quit --no-cwd-file", desc = "Quitter sans cd" },
	{ on = ["<Esc>"], run = "escape", desc = "Échap / Annuler" },
	{ on = ["<C-q>"], run = "close", desc = "Fermer onglet" },
]

[tasks]
prepend_keymap = [
	{ on = ["<Esc>"], run = "close", desc = "Fermer" },
	{ on = ["q"], run = "close", desc = "Fermer" },
	{ on = ["w"], run = "close", desc = "Fermer" },
	{ on = ["k"], run = "arrow -1", desc = "Monter" },
	{ on = ["j"], run = "arrow 1", desc = "Descendre" },
	{ on = ["<Up>"], run = "arrow -1", desc = "Monter" },
	{ on = ["<Down>"], run = "arrow 1", desc = "Descendre" },
	{ on = ["<Enter>"], run = "inspect", desc = "Inspecter" },
	{ on = ["x"], run = "cancel", desc = "Annuler tâche" },
	{ on = ["d"], run = "cancel", desc = "Annuler tâche" },
]

[select]
prepend_keymap = [
	{ on = ["<Esc>"], run = "close", desc = "Annuler" },
	{ on = ["<C-c>"], run = "close", desc = "Annuler" },
	{ on = ["<Enter>"], run = "close --submit", desc = "Valider" },
	{ on = ["k"], run = "arrow -1", desc = "Monter" },
	{ on = ["j"], run = "arrow 1", desc = "Descendre" },
	{ on = ["<Up>"], run = "arrow -1", desc = "Monter" },
	{ on = ["<Down>"], run = "arrow 1", desc = "Descendre" },
]

[input]
prepend_keymap = [
	{ on = ["<C-c>"], run = "close", desc = "Annuler" },
	{ on = ["<Enter>"], run = "close --submit", desc = "Valider" },
	{ on = ["<Esc>"], run = "escape", desc = "Échap" },
	
	# Navigation
	{ on = ["<C-a>"], run = "move -999", desc = "Début de ligne" },
	{ on = ["<C-e>"], run = "move 999", desc = "Fin de ligne" },
	{ on = ["<C-h>"], run = "backspace", desc = "Backspace" },
	{ on = ["<C-w>"], run = "backspace --under", desc = "Supprimer mot" },
	
	# Édition
	{ on = ["<C-u>"], run = "kill bol", desc = "Supprimer jusqu'au début" },
	{ on = ["<C-k>"], run = "kill eol", desc = "Supprimer jusqu'à la fin" },
	{ on = ["<C-d>"], run = "delete", desc = "Supprimer caractère" },
	
	# Historique
	{ on = ["<Up>"], run = "history previous", desc = "Historique précédent" },
	{ on = ["<Down>"], run = "history next", desc = "Historique suivant" },
]

[completion]
prepend_keymap = [
	{ on = ["<C-c>"], run = "close", desc = "Annuler" },
	{ on = ["<Tab>"], run = "close --submit", desc = "Valider" },
	{ on = ["<Enter>"], run = "close --submit", desc = "Valider" },
	{ on = ["<Esc>"], run = "close", desc = "Fermer" },
	{ on = ["k"], run = "arrow -1", desc = "Monter" },
	{ on = ["j"], run = "arrow 1", desc = "Descendre" },
	{ on = ["<Up>"], run = "arrow -1", desc = "Monter" },
	{ on = ["<Down>"], run = "arrow 1", desc = "Descendre" },
]

[help]
prepend_keymap = [
	{ on = ["<Esc>"], run = "escape", desc = "Fermer aide" },
	{ on = ["q"], run = "escape", desc = "Fermer aide" },
	{ on = ["~"], run = "escape", desc = "Fermer aide" },
	{ on = ["k"], run = "arrow -1", desc = "Monter" },
	{ on = ["j"], run = "arrow 1", desc = "Descendre" },
	{ on = ["<Up>"], run = "arrow -1", desc = "Monter" },
	{ on = ["<Down>"], run = "arrow 1", desc = "Descendre" },
]